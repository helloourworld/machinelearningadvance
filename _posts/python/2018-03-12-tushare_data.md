---
layout: post
title: TuShare Data
category: Python Data
catalog: yes
description: http://tushare.org/macro.html#id2
tags:
    - Python
---

PREF:

** Tushare当前（2018.3.12）版为'1.0.5'** 

* 1 Tushare是一个免费、开源的python财经数据接口包。主要实现对股票等金融数据从数据采集、清洗加工 到 数据存储的过程，能够为金融分析人员提供快速、整洁、和多样的便于分析的数据，为他们在数据获取方面极大地减轻工作量，使他们更加专注于策略和模型的研究与实现上。考虑到Python pandas包在金融量化分析中体现出的优势，Tushare返回的绝大部分的数据格式都是pandas DataFrame类型，非常便于用pandas/NumPy/Matplotlib进行数据分析和可视化。
* 2 Tushare还在不断的完善和优化，后期将逐步增加港股、期货、外汇和基金方面的数据。
* 3 Tushare的数据主要来源于网络
* 4 新浪财经、腾讯财经、上交所和深交所提供数据

## 1 [宏观经济数据](http://tushare.org/macro.html)

宏观经济数据提供国内重要的宏观经济数据，目前只提供比较常用的宏观经济数据，通过简单的接口调用可获取相应的DataFrame格式数据，大项主要包括以下类别：

* 金融信息数据
* 国民经济数据
* 价格指数数据
* 景气指数数据
* 对外经济贸易数据

### 1.1 存款利率

调用方法：

~~~Python
import tushare as ts

ts.get_deposit_rate()
~~~

返回值说明：

* date :变动日期
* deposit_type :存款种类
* rate:利率（%）


结果显示：

```
       date            deposit_type             rate
0    2014-11-22            定活两便(定期)         --
1    2014-11-22            定期存款整存整取(半年)   2.55
2    2014-11-22            定期存款整存整取(二年)   3.35
3    2014-11-22           定期存款整存整取(三个月)   2.35
4    2014-11-22            定期存款整存整取(三年)   4.00
5    2014-11-22            定期存款整存整取(五年)   4.75
6    2014-11-22            定期存款整存整取(一年)   2.75
7    2014-11-22               活期存款(不定期)   0.35
8    2014-11-22  零存整取、整存零取、存本取息定期存款(三年)   2.80
9    2014-11-22  零存整取、整存零取、存本取息定期存款(五年)   3.00
10   2014-11-22  零存整取、整存零取、存本取息定期存款(一年)   2.60
```

### 1.2 贷款利率

~~~Python
ts.get_loan_rate()
~~~

返回值说明：

* date :执行日期
* loan_type :存款种类
* rate:利率（%）

结果显示：

```
       date            loan_type            rate
0    2014-11-22          短期贷款(六个月以内)   5.60
1    2014-11-22         短期贷款(六个月至一年)   5.60
2    2014-11-22          中长期贷款(三至五年)   6.00
3    2014-11-22          中长期贷款(五年以上)   6.15
4    2014-11-22          中长期贷款(一至三年)   6.00
5    2014-11-22               贴现(贴现)     --
6    2014-11-22         优惠贷款(扶贫贴息贷款)     --
7    2014-11-22     优惠贷款(老少边穷发展经济贷款)     --
8    2014-11-22     优惠贷款(民政部门福利工厂贷款)     --
9    2014-11-22     优惠贷款(民族贸易及民族用品生产贷款)     --
10   2014-11-22     优惠贷款(贫困县办工业贷款)     --
```

### 1.3 存款准备金率

~~~Python
ts.get_rrr()
~~~

返回值说明：

* date :变动日期
* before :调整前存款准备金率(%)
* now:调整后存款准备金率(%)
* changed:调整幅度(%)

结果显示：

```
      date      before  now     changed
0   2012-05-18  20.50  20.00   -0.50
1   2012-02-24  21.00  20.50   -0.50
2   2011-12-05  21.50  21.00   -0.50
3   2011-06-20  21.00  21.50    0.50
4   2011-05-18  20.50  21.00    0.50
5   2011-04-21  20.00  20.50    0.50
6   2011-03-25  19.50  20.00    0.50
7   2011-02-24  19.00  19.50    0.50
8   2011-01-20  18.50  19.00    0.50
9   2010-12-20  18.00  18.50    0.50
10  2010-11-29  17.50  18.00    0.50
```

### 1.4 货币供应量

~~~Python
ts.get_money_supply()
~~~

返回值说明：

* month :统计时间
* m2 :货币和准货币（广义货币M2）(亿元)
* m2_yoy:货币和准货币（广义货币M2）同比增长(%)
* m1:货币(狭义货币M1)(亿元)
* m1_yoy:货币(狭义货币M1)同比增长(%)
* m0:流通中现金(M0)(亿元)
* m0_yoy:流通中现金(M0)同比增长(%)
* cd:活期存款(亿元)
* cd_yoy:活期存款同比增长(%)
* qm:准货币(亿元)
* qm_yoy:准货币同比增长(%)
* ftd:定期存款(亿元)
* ftd_yoy:定期存款同比增长(%)
* sd:储蓄存款(亿元)
* sd_yoy:储蓄存款同比增长(%)
* rests:其他存款(亿元)
* rests_yoy:其他存款同比增长(%)

结果显示：

```
        month         m2 m2_yoy         m1   m1_yoy   m0      m0_yoy         cd  \
0    2014.12  1228374.81  12.20  348056.41   3.20  60259.53   2.90  287796.88
1    2014.11  1208605.95  12.30  335114.13   3.20  58438.53   3.50  276675.60
2    2014.10  1199236.31  12.60  329617.73   3.20  57691.64   3.80  271926.09
3     2014.9  1202051.41  12.90  327220.21   4.80  58844.99   4.20  268375.22
4     2014.8  1197499.08  12.80  332023.23   5.70  57997.61   5.60  274025.62
5     2014.7  1194249.24  13.50  331347.32   6.70  57346.50   5.40  274000.81
6     2014.6  1209587.20  14.70  341487.45   8.90  56951.05   5.30  284536.39
7     2014.5  1182300.32  13.40  327835.25   5.70  58051.11   6.70  269788.46
8     2014.4  1168812.67  13.20  324482.52   5.50  58615.54   5.40  265866.98
9     2014.3  1160687.38  12.10  327683.74   5.40  58329.30   5.20  269354.44
10    2014.2  1131760.83  13.30  316625.11   6.90  62320.95   3.30  254304.16
```

### 1.5 货币供应量(年底余额)

~~~Python
ts.get_money_supply_bal()
~~~

返回值说明：

* year :统计年度
* m2 :货币和准货币(亿元)
* m1:货币(亿元)
* m0:流通中现金(亿元)
* cd:活期存款(亿元)
* qm:准货币(亿元)
* ftd:定期存款(亿元)
* sd:储蓄存款(亿元)
* rests:其他存款(亿元)

结果显示：

```
    year          m2         m1        m0         cd         qm        ftd  \
0   2013  1106525.00  337291.10  58574.40  278716.60  769233.90  232696.60
1   2012   974159.50  308673.00  54659.80  254013.20  665486.50  195946.30
2   2011   851590.90  289847.70  50748.50  239099.20  561743.20  166616.00
3   2010   725774.10  266621.30  44628.20  221993.20  459152.70  105858.70
4   2009   606225.00  220001.50  38246.00  181758.50  386219.10   82284.90
5   2008   475166.60  166217.10  34219.00  131998.20  308949.50   60103.10
6   2007   403442.20  152560.10  30375.20  122184.90  250882.10   46932.50
7   2005   298755.70  107278.80  24031.70   83247.10  191476.90   33100.00
8   2004   254107.00   95969.70  21468.30   74501.40  158137.20   25382.20
9   2003   221222.80   84118.60  19746.00   64372.60  137104.30   20940.40
10  2002   185007.00   70881.80  17278.00   53603.80  114125.20   16433.80
```

### 1.6 国内生产总值(年度)

~~~Python
ts.get_gdp_year()
~~~

返回值说明：

* year :统计年度
* gdp :国内生产总值(亿元)
* pc_gdp :人均国内生产总值(元)
* gnp :国民生产总值(亿元)
* pi :第一产业(亿元)
* si :第二产业(亿元)
* industry :工业(亿元)
* cons_industry :建筑业(亿元)
* ti :第三产业(亿元)
* trans_industry :交通运输仓储邮电通信业(亿元)
* lbdy :批发零售贸易及餐饮业(亿元)

结果显示：

```
    year        gdp    pc_gdp        gnp        pi         si   industry  \
0   2014  636463.00       NaN        NaN  58332.00  271392.00        NaN
1   2013  588019.00  41907.59        NaN  55322.00  256810.00  210689.42
2   2012  519470.10  38459.47        NaN  52373.63  235161.99  199670.66
3   2011  473104.05  35197.79        NaN  47486.21  220412.81  188470.15
4   2010  401202.00  29992.00  403260.00  40533.60  187581.42  160867.01
5   2009  340902.80  25608.00  341401.50  35226.00  157638.80  135239.90
6   2008  314045.40  23708.00  315274.70  33702.00  149003.40  130260.20
7   2007  265810.30  20169.00  266411.00  28627.00  125831.40  110534.90
8   2006  216314.43  16499.70  215904.41  24040.00  103719.54   91310.94
9   2005  184937.37  14185.36  183617.37  22420.00   87598.09   77230.78
10  2004  159878.34  12335.58  159453.60  21412.73   73904.31   65210.03

```

### 1.7 国内生产总值(季度)

~~~Python
ts.get_gdp_quarter()
~~~

返回值说明：

* quarter :季度
* gdp :国内生产总值(亿元)
* gdp_yoy :国内生产总值同比增长(%)
* pi :第一产业增加值(亿元)
* pi_yoy:第一产业增加值同比增长(%)
* si :第二产业增加值(亿元)
* si_yoy :第二产业增加值同比增长(%)
* ti :第三产业增加值(亿元)
* ti_yoy :第三产业增加值同比增长(%)

结果显示：

```
     quarter        gdp  gdp_yoy        pi  pi_yoy         si  si_yoy  \
0    2014.4  636463.00     7.40  58332.00    4.10  271392.00    7.30
1    2014.3  419908.00     7.40  37996.00    4.20  185787.00    7.40
2    2014.2  269044.09     7.42  19812.00    3.90  123871.33    7.41
3    2014.1  128212.71     7.36   7775.68    3.50   57587.49    7.34
4    2013.4  568845.21     7.67  56957.00    4.00  249684.42    7.85
5    2013.3  387100.24     7.68  35669.00    3.40  175117.83    7.85
6    2013.2  248024.45     7.59  18622.00    3.00  116955.37    7.62
7    2013.1  118862.08     7.74   7427.00    3.40   54528.34    7.75
8    2012.4  519470.10     7.65  52373.63    4.55  235161.99    7.92
9    2012.3  353741.55     7.56  33085.87    4.25  165316.31    7.90
10   2012.2  228003.09     7.68  17469.87    4.35  110785.17    8.16
```

### 1.8 三大需求对GDP贡献

~~~Python
ts.get_gdp_for()
~~~

返回值说明：

* year :统计年度
* end_for :最终消费支出贡献率(%)
* for_rate :最终消费支出拉动(百分点)
* asset_for :资本形成总额贡献率(%)
* asset_rate:资本形成总额拉动(百分点)
* goods_for :货物和服务净出口贡献率(%)
* goods_rate :货物和服务净出口拉动(百分点)

结果显示：

```
    year  end_for  for_rate  asset_for  asset_rate  goods_for  goods_rate
0   2013     50.0       3.9       54.4         4.2       -4.4        -0.3
1   2012     55.1       4.2       47.0         3.6       -2.1        -0.1
2   2011     56.5       5.3       47.7         4.4       -4.2        -0.4
3   2010     43.1       4.5       52.9         5.5        4.0         0.4
4   2009     49.8       4.6       87.6         8.1      -37.4        -3.5
5   2008     44.2       4.2       47.0         4.5        8.8         0.9
6   2007     39.6       5.6       42.4         6.0       18.0         2.6
7   2006     40.4       5.1       43.6         5.5       16.0         2.1
8   2005     38.7       4.4       38.5         4.3       22.8         2.6
9   2004     39.5       4.0       54.5         5.5        6.0         0.6
10  2003     35.8       3.6       63.2         6.3        1.0         0.1
```

### 1.9 三大产业对GDP拉动

~~~Python
ts.get_gdp_pull()
~~~

返回值说明：

* year :统计年度
* gdp_yoy :国内生产总值同比增长(%)
* pi :第一产业拉动率(%)
* si :第二产业拉动率(%)
* industry:其中工业拉动(%)
* ti :第三产业拉动率(%)

结果显示：

```
    year  gdp_yoy   pi   si  industry   ti
0   2013      7.7  0.4  3.7       3.1  3.6
1   2012      7.7  0.4  3.7       3.1  3.5
2   2011      9.3  0.4  4.8       4.2  4.1
3   2010     10.4  0.4  5.9       5.1  4.1
4   2009      9.2  0.4  4.8       3.7  4.0
5   2008      9.6  0.6  4.7       4.2  4.3
6   2007     14.2  0.4  7.2       6.2  6.6
7   2006     12.7  0.6  6.3       5.4  5.7
8   2005     11.3  0.6  5.8       4.9  4.9
9   2004     10.1  0.8  5.3       4.8  4.0
10  2003     10.0  0.3  5.9       5.2  3.8
```

### 1.10 三大产业贡献率

~~~Python
ts.get_gdp_contrib()
~~~

返回值说明：

* year :统计年度
* gdp_yoy :国内生产总值
* pi :第一产业献率(%)
* si :第二产业献率(%)
* industry:其中工业献率(%)
* ti :第三产业献率(%)

结果显示：

```
    year  gdp_yoy     pi     si  industry     ti
0   2013      100   4.88  48.28     39.86  46.84
1   2012      100   5.72  48.71     40.59  45.56
2   2011      100   4.61  51.61     44.67  43.77
3   2010      100   3.85  56.84     48.54  39.32
4   2009      100   4.48  51.94     40.01  43.58
5   2008      100   5.73  49.25     43.40  45.02
6   2007      100   2.99  50.70     44.03  46.31
7   2006      100   4.80  50.00     42.40  45.20
8   2005      100   5.60  51.10     43.40  43.30
9   2004      100   7.90  52.20     47.70  39.90
10  2003      100   3.40  58.50     51.90  38.10
```

### 1.11 居民消费价格指数

~~~Python
ts.get_cpi()
~~~

返回值说明：

* month :统计月份
* cpi :价格指数

结果显示：

```
      month     cpi
0    2014.12  101.51
1    2014.11  101.44
2    2014.10  101.60
3     2014.9  101.63
4     2014.8  101.99
5     2014.7  102.29
6     2014.6  102.34
7     2014.5  102.48
8     2014.4  101.80
9     2014.3  102.38
10    2014.2  101.95
```

### 1.12 工业品出厂价格指数

~~~Python
ts.get_ppi()
~~~

返回值说明：

* month :统计月份
* ppiip :工业品出厂价格指数
* ppi :生产资料价格指数
* qm:采掘工业价格指数
* rmi:原材料工业价格指数
* pi:加工工业价格指数
* cg:生活资料价格指数
* food:食品类价格指数
* clothing:衣着类价格指数
* roeu:一般日用品价格指数
* dcg:耐用消费品价格指数

结果显示：

```
     month   ppiip    ppi      qm     rmi     pi      cg    food  clothing  \
0    2014.12   96.68  95.71   86.80   93.64  97.49   99.84   99.71    100.57
1    2014.11   97.31  96.51   89.35   95.31  97.75   99.87   99.85    100.50
2    2014.10   97.76  97.05   91.13   96.32  97.95  100.04  100.17    100.51
3     2014.9   98.20  97.61   93.32   97.28  98.17  100.11  100.35    100.65
4     2014.8   98.80  98.35   95.56   98.52  98.55  100.24  100.62    100.67
5     2014.6   98.89  98.47   96.00   98.54  98.69  100.23  100.69    100.79
6     2014.5     NaN  98.05     NaN   97.96  98.38  100.17  100.41    100.82
7     2014.4   98.00  97.39   93.94   96.94  97.93   99.94  100.08    100.73
8     2014.3   97.70  97.05   93.34   96.19  97.79   99.79   99.78    100.83
9     2014.2   97.98  97.46   94.67   96.78  98.03   99.67   99.70    100.77
10    2014.1   98.36  97.95   95.95   97.52  98.34   99.65     NaN    100.72
```

## 2 [ETF数据](https://www.jisilu.cn/data/etf/#money)

### 2.1 指数ETF

~~~Python
code_list = ["159901", "159902", "159903", "159905", "159906", "159907", "159908", "159909", "159910", "159911", "159912", "159913", "159915", "159916", "159918", "159919", "159920", "159922", "159923", "159924", "159925", "159928", "159929", "159930", "159931", "159932", "159933", "159935", "159936", "159938", "159939", "159940", "159942", "159943", "159944", "159945", "159946", "159948", "159949", "159951", "159952", "159953", "159955", "159956", "159957", "159958", "510010", "510020", "510030", "510050", "510060", "510070", "510090", "510110", "510120", "510130", "510150", "510160", "510170", "510180", "510190", "510210", "510220", "510230", "510260", "510270", "510280", "510290", "510300", "510310", "510330", "510360", "510380", "510390", "510410", "510420", "510430", "510440", "510500", "510510", "510520", "510560", "510580", "510630", "510650", "510660", "510680", "510710", "510810", "510880", "510900", "511010", "511220", "511260", "512000", "512010", "512070", "512100", "512120", "512200", "512210", "512220", "512230", "512300", "512310", "512330", "512340", "512400", "512500", "512510", "512560", "512580", "512600", "512610", "512640", "512660", "512680", "512700", "512800", "512810", "512880", "512900", "512980", "513600", "513660"]
# Test
for each in code_list:
    try: 
        df = ts.get_k_data(each, start='2018-03-11')
    except:
        print each
~~~

### 2.2 黄金ETF

~~~Python
code_list = ["159934", "159937", "518800", "518880"]
# Test
for each in code_list:
    try: 
        df = ts.get_k_data(each, start='2018-03-11')
    except:
        print each
~~~

### 2.3 场内货币ETF

~~~Python
code_list = ["511600", "511650", "511660", "511620", "511670", "511680", "511690", "511700", "511760", "511770", "511800", "511810", "511820", "511830", "511850", "511860", "511880", "511900", "511910", "511920", "511930", "511950", "511960", "511970", "511980", "511990", "159001", "159003", "159005", "519800", "519808", "519858", "519878", "519888", "519898"]
# Test
for each in code_list:
    try: 
        df = ts.get_k_data(each, start='2018-03-11')
        print df
    except:
        print each
~~~

以下ETF无数据

```
519800	保证金A	申赎型	-	-	-	2018-03-09	-	-	3.508%	3.594%	3.493%	0.00	1.71	   
519808	嘉实宝A	申赎型	-	-	-	2018-03-12	-	-	3.411%	3.278%	3.302%	0.00	1.17	   
519858	广发宝A	申赎型	-	-	-	2018-03-12	-	-	3.389%	3.623%	3.757%	0.00	3.09	   
519878	国保A	申赎型	-	-	-	2018-03-12	-	-	3.690%	3.415%	3.516%	0.00	2.26	   
519888	添富快线A	申赎型	-	-	-	2018-03-12	-	-	3.347%	3.451%	3.279%	0.00	67.44	   
519898	现金宝A	申赎型	-	-	-	2018-03-12	-	-	3.748%	3.832%	3.335%	0.00	3.78	   
```

## 3 [交易数据](http://tushare.org/trading.html)

### 3.1 历史行情

在新版0.5.6中，已经新增了一个接口：get_k_data，具体使用方法请参考tushare公众号文章《全新的免费行情数据接口》 ，建议使用全新接口。
获取个股历史交易数据（包括均线数据），可以通过参数设置获取日k线、周k线、月k线，以及5分钟、15分钟、30分钟和60分钟k线数据。本接口只能获取近3年的日线数据，适合搭配均线数据进行选股和分析，如果需要全部历史数据，请调用下一个接口**get_h_data()**。

参数说明：

* code：股票代码，即6位数字代码，或者指数代码（sh=上证指数 sz=深圳成指 hs300=沪深300指数 sz50=上证50 zxb=中小板 cyb=创业板）
* start：开始日期，格式YYYY-MM-DD
* end：结束日期，格式YYYY-MM-DD
* ktype：数据类型，D=日k线 W=周 M=月 5=5分钟 15=15分钟 30=30分钟 60=60分钟，默认为D
* retry_count：当网络异常后重试次数，默认为3
* pause:重试时停顿秒数，默认为0

返回值说明：

* date：日期
* open：开盘价
* high：最高价
* close：收盘价
* low：最低价
* volume：成交量
* price_change：价格变动
* p_change：涨跌幅
* ma5：5日均价
* ma10：10日均价
* ma20:20日均价
* v_ma5:5日均量
* v_ma10:10日均量
* v_ma20:20日均量
* turnover:换手率[注：指数无此项]

~~~Python
ts.get_hist_data('600848') #一次性获取全部日k线数据
~~~

结果显示：

```
             open    high   close     low     volume    p_change  ma5 \
date
2012-01-11   6.880   7.380   7.060   6.880   14129.96     2.62   7.060
2012-01-12   7.050   7.100   6.980   6.900    7895.19    -1.13   7.020
2012-01-13   6.950   7.000   6.700   6.690    6611.87    -4.01   6.913
2012-01-16   6.680   6.750   6.510   6.480    2941.63    -2.84   6.813
2012-01-17   6.660   6.880   6.860   6.460    8642.57     5.38   6.822
2012-01-18   7.000   7.300   6.890   6.880   13075.40     0.44   6.788
2012-01-19   6.690   6.950   6.890   6.680    6117.32     0.00   6.770
2012-01-20   6.870   7.080   7.010   6.870    6813.09     1.74   6.832

             ma10    ma20      v_ma5     v_ma10     v_ma20     turnover
date
2012-01-11   7.060   7.060   14129.96   14129.96   14129.96     0.48
2012-01-12   7.020   7.020   11012.58   11012.58   11012.58     0.27
2012-01-13   6.913   6.913    9545.67    9545.67    9545.67     0.23
2012-01-16   6.813   6.813    7894.66    7894.66    7894.66     0.10
2012-01-17   6.822   6.822    8044.24    8044.24    8044.24     0.30
2012-01-18   6.833   6.833    7833.33    8882.77    8882.77     0.45
2012-01-19   6.841   6.841    7477.76    8487.71    8487.71     0.21
2012-01-20   6.863   6.863    7518.00    8278.38    8278.38     0.23
```

其他：

* ts.get_hist_data('600848', ktype='W') #获取周k线数据
* ts.get_hist_data('600848', ktype='M') #获取月k线数据
* ts.get_hist_data('600848', ktype='5') #获取5分钟k线数据
* ts.get_hist_data('600848', ktype='15') #获取15分钟k线数据
* ts.get_hist_data('600848', ktype='30') #获取30分钟k线数据
* ts.get_hist_data('600848', ktype='60') #获取60分钟k线数据
* ts.get_hist_data('sh'）#获取上证指数k线数据，其它参数与个股一致，下同
* ts.get_hist_data('sz'）#获取深圳成指k线数据
* ts.get_hist_data('hs300'）#获取沪深300指数k线数据
* ts.get_hist_data('sz50'）#获取上证50指数k线数据
* ts.get_hist_data('zxb'）#获取中小板指数k线数据
* ts.get_hist_data('cyb'）#获取创业板指数k线数据

### 3.2复权数据

获取历史复权数据，分为前复权和后复权数据，接口提供股票上市以来所有历史数据，默认为前复权。如果不设定开始和结束日期，则返回近一年的复权数据，从性能上考虑，推荐设定开始日期和结束日期，而且最好不要超过三年以上，获取全部历史数据，请分年段分步获取，取到数据后，请及时在本地存储。获取个股首个上市日期，请参考以下方法：

~~~Python
df = ts.get_stock_basics()
date = df.ix['600848']['timeToMarket'] #上市日期YYYYMMDD
~~~

本接口还提供大盘指数的全部历史数据，调用时，请务必设定index参数为True,由于大盘指数不存在复权的问题，故可以忽略autype参数。

~~~Python
ts.get_h_data('002337') #前复权
ts.get_h_data('002337', autype='hfq') #后复权
ts.get_h_data('002337', autype=None) #不复权
ts.get_h_data('002337', start='2015-01-01', end='2015-03-16') #两个日期之间的前复权数据
ts.get_h_data('399106', index=True) #深圳综合指数
~~~

参数说明：

* code:string,股票代码 e.g. 600848
* start:string,开始日期 format：YYYY-MM-DD 为空时取当前日期
* end:string,结束日期 format：YYYY-MM-DD 为空时取去年今日
* autype:string,复权类型，qfq-前复权 hfq-后复权 None-不复权，默认为qfq
* index:Boolean，是否是大盘指数，默认为False
* retry_count : int, 默认3,如遇网络等问题重复执行的次数
* pause : int, 默认 0,重复请求数据过程中暂停的秒数，防止请求间隔时间太短出现的问题

返回值说明：

* date : 交易日期 (index)
* open : 开盘价
* high : 最高价
* close : 收盘价
* low : 最低价
* volume : 成交量
* amount : 成交金额

结果：

```
            open   high  close    low     volume      amount
date
2015-03-16  13.27  13.45  13.39  13.00   81212976  1073862784
2015-03-13  13.04  13.38  13.37  13.00   40548836   532739744
2015-03-12  13.29  13.95  13.28  12.96   71505720   962979904
2015-03-11  13.35  13.48  13.15  13.00   59110248   780300736
2015-03-10  13.16  13.67  13.59  12.72  105753088  1393819776
2015-03-09  13.77  14.73  14.13  13.70  139091552  1994454656
2015-03-06  12.17  13.39  13.39  12.17   89486704  1167752960
2015-03-05  12.79  12.80  12.17  12.08   26040832   966927360
2015-03-04  13.96  13.96  13.30  12.58   26636174  1060270720
2015-03-03  12.17  13.10  13.10  12.05   19290366   733336768
```

### 3.3 实时行情

一次性获取当前交易所有股票的行情数据（如果是节假日，即为上一交易日，结果显示速度取决于网速）

~~~Python
ts.get_today_all()
~~~

返回值说明：

* code：代码
* name:名称
* changepercent:涨跌幅
* trade:**现价**
* open:开盘价
* high:最高价
* low:最低价
* settlement:昨日收盘价
* volume:成交量
* turnoverratio:换手率
* amount:成交量
* per:市盈率
* pb:市净率
* mktcap:总市值
* nmc:流通市值

结果显示：

```
      code    name     changepercent  trade   open   high    low  settlement \
0     002738  中矿资源         10.023  19.32  19.32  19.32  19.32       17.56
1     300410  正业科技         10.022  25.03  25.03  25.03  25.03       22.75
2     002736  国信证券         10.013  16.37  16.37  16.37  16.37       14.88
3     300412  迦南科技         10.010  31.54  31.54  31.54  31.54       28.67
4     300411  金盾股份         10.007  29.68  29.68  29.68  29.68       26.98
5     603636  南威软件         10.006  38.15  38.15  38.15  38.15       34.68
6     002664  信质电机         10.004  30.68  29.00  30.68  28.30       27.89
7     300367  东方网力         10.004  86.76  78.00  86.76  77.87       78.87
8     601299  中国北车         10.000  11.44  11.44  11.44  11.29       10.40
9     601880   大连港         10.000   5.72   5.34   5.72   5.22        5.20

        volume       turnoverratio
0        375100        1.25033
1         85800        0.57200
2       1058925        0.08824
3         69400        0.51791
4        252220        1.26110
5       1374630        5.49852
6       6448748        9.32700
7       2025030        6.88669
8     433453523        4.28056
9     323469835        9.61735
```

### 3.3 历史分笔

获取个股以往交易历史的分笔数据明细，通过分析分笔数据，可以大致判断资金的进出情况。在使用过程中，对于获取股票某一阶段的历史分笔数据，需要通过参入交易日参数并append到一个DataFrame或者直接append到本地同一个文件里。历史分笔接口只能获取当前交易日之前的数据，当日分笔历史数据请调用get_today_ticks()接口或者在当日18点后通过本接口获取。

参数说明：

* code：股票代码，即6位数字代码
* date：日期，格式YYYY-MM-DD
* retry_count : int, 默认3,如遇网络等问题重复执行的次数
* pause : int, 默认 0,重复请求数据过程中暂停的秒数，防止请求间隔时间太短出现的问题

调用方法：

~~~Python
df = ts.get_tick_data('600848',date='2014-01-09')
~~~

返回值说明：

* time：时间
* price：成交价格
* change：价格变动
* volume：成交手
* amount：成交金额(元)
* type：买卖类型【买盘、卖盘、中性盘】

结果显示：

```
     time       price change  volume  amount  type
0    15:00:00   6.05     --       8    4840   卖盘
1    14:59:55   6.05     --      50   30250   卖盘
2    14:59:35   6.05     --      20   12100   卖盘
3    14:59:30   6.05  -0.01     165   99825   卖盘
4    14:59:20   6.06   0.01       4    2424   买盘
5    14:59:05   6.05  -0.01       2    1210   卖盘
6    14:58:55   6.06     --       4    2424   买盘
7    14:58:45   6.06     --       2    1212   买盘
8    14:58:35   6.06   0.01       2    1212   买盘
9    14:58:25   6.05  -0.01      20   12100   卖盘
```

### 3.5 **实时分笔**

获取实时分笔数据，可以实时取得股票当前报价和成交信息，其中一种场景是，写一个python定时程序来调用本接口（可两三秒执行一次，性能与行情软件基本一致），然后通过DataFrame的矩阵计算实现交易监控，可实时监测交易量和价格的变化。

参数说明：

symbols：6位数字股票代码，或者指数代码（sh=上证指数 sz=深圳成指 hs300=沪深300指数 sz50=上证50 zxb=中小板 cyb=创业板） 可输入的类型：str、list、set或者pandas的Series对象

调用方法：

~~~Python
df = ts.get_realtime_quotes('000581') #Single stock symbol
df[['code','name','price','bid','ask','volume','amount','time']]
~~~

结果显示：

```
   code    name     price  bid    ask    volume   amount        time
0  000581  威孚高科  31.15  31.14  31.15  8183020  253494991.16  11:30:36
```

返回值说明：

```
0：name，股票名字
1：open，今日开盘价
2：pre_close，昨日收盘价
3：price，当前价格
4：high，今日最高价
5：low，今日最低价
6：bid，竞买价，即“买一”报价
7：ask，竞卖价，即“卖一”报价
8：volume，成交量 maybe you need do volume/100
9：amount，成交金额（元 CNY）
10：b1_v，委买一（笔数 bid volume）
11：b1_p，委买一（价格 bid price）
12：b2_v，“买二”
13：b2_p，“买二”
14：b3_v，“买三”
15：b3_p，“买三”
16：b4_v，“买四”
17：b4_p，“买四”
18：b5_v，“买五”
19：b5_p，“买五”
20：a1_v，委卖一（笔数 ask volume）
21：a1_p，委卖一（价格 ask price）
...
30：date，日期；
31：time，时间；
```

请求多个股票方法（一次最好不要超过30个）：

~~~Python
#symbols from a list
ts.get_realtime_quotes(['600848','000980','000981'])
#from a Series
ts.get_realtime_quotes(df['code'].tail(10))  #一次获取10个股票的实时分笔数据
~~~

**获取实时指数：**

~~~
#上证指数
ts.get_realtime_quotes('sh')
#上证指数 深圳成指 沪深300指数 上证50 中小板 创业板
ts.get_realtime_quotes(['sh','sz','hs300','sz50','zxb','cyb'])
#或者混搭
ts.get_realtime_quotes(['sh','600848'])
~~~

### 3.6 当日历史分笔

获取当前交易日（交易进行中使用）已经产生的分笔明细数据。

参数说明：

* code：股票代码，即6位数字代码
* retry_count : int, 默认3,如遇网络等问题重复执行的次数
* pause : int, 默认 0,重复请求数据过程中暂停的秒数，防止请求间隔时间太短出现的问题

调用方法：

~~~
df = ts.get_today_ticks('601333')
~~~

返回值说明：

* time：时间
* price：当前价格
* pchange:涨跌幅
* change：价格变动
* volume：成交手
* amount：成交金额(元)
* type：买卖类型【买盘、卖盘、中性盘】

结果显示：

```
        time     price pchange  change  volume   amount type
0     11:30:07   5.77   -0.52    0.00     634   366372   买盘
1     11:29:57   5.77   -0.52    0.00     216   124632   买盘
2     11:29:52   5.77   -0.52    0.00     306   176562   买盘
3     11:29:42   5.77   -0.52    0.01     159    91766   买盘
4     11:29:37   5.76   -0.69    0.00     546   314496   卖盘
5     11:29:32   5.76   -0.69   -0.01     954   549504   卖盘
6     11:29:22   5.77   -0.52    0.00     374   215798   买盘
7     11:29:17   5.77   -0.52    0.00     762   439674   买盘
8     11:29:12   5.77   -0.52    0.00     164    95182   买盘
9     11:29:07   5.77   -0.52    0.00     303   174854   买盘
```

### 3.8 大盘指数行情列表

获取大盘指数实时行情列表，以表格的形式展示大盘指数实时行情。

调用方法：

~~~
df = ts.get_index()
~~~

返回值说明：

* code:指数代码
* name:指数名称
* change:涨跌幅
* open:开盘点位
* preclose:昨日收盘点位
* close:收盘点位
* high:最高点位
* low:最低点位
* volume:成交量(手)
* amount:成交金额（亿元）

结果显示：

```
    code        name    change   preclose      close       high        low  \
0   000001    上证指数  -1.13   4527.396   4476.215   4572.391   4432.904
1   000002    Ａ股指数  -1.13   4744.093   4690.628   4791.534   4645.190
2   000003    Ｂ股指数  -2.15    403.694    395.018    405.795    392.173
3   000008    综合指数   0.79   3724.496   3753.906   3848.575   3695.817
4   000009   上证380  -2.79   7689.128   7474.305   7695.329   7398.911
5   000010   上证180  -1.13  10741.180  10619.610  10863.080  10529.900
6   000011    基金指数  -1.02   7033.291   6961.659   7058.856   6918.273
7   000012    国债指数   0.01    148.626    148.641    148.656    148.510
8   000016    上证50  -0.79   3308.454   3282.330   3370.025   3255.769
9   000017     新综指  -1.13   3826.013   3782.936   3864.307   3746.284
10  000300   沪深300  -1.37   4807.592   4741.861   4839.078   4703.567
11  399001    深证成指  -0.69  14809.424  14707.245  14979.810  14580.422
12  399002    深成指R  -0.69  17193.832  17075.202  17391.652  16927.959
13  399003    成份Ｂ指  -1.93   9027.079   8853.081   9013.194   8826.048
14  399004  深证100R  -1.79   5994.881   5887.414   6036.322   5832.431
15  399005    中小板指  -3.34   8935.338   8637.195   8953.813   8551.202
16  399006    创业板指  -2.17   2747.497   2687.974   2779.200   2650.425
17  399100   新 指 数  -2.77  10091.194   9811.256  10111.664   9718.085
18  399101    中小板综  -3.31  12792.057  12368.868  12800.453  12253.744
19  399106    深证综指  -2.76   2271.275   2208.561   2275.344   2187.897
20  399107    深证Ａ指  -2.77   2375.176   2309.466   2379.507   2287.784
21  399108    深证Ｂ指  -1.77   1398.244   1373.512   1397.996   1367.343
22  399333    中小板R  -3.34   9640.766   9319.085   9660.699   9226.304
23  399606    创业板R  -2.16   2828.251   2767.127   2861.040   2728.472


        volume    amount
0     767676416  10611.72
1     766188823  10599.65
2       1487592     12.07
3     263748855   3440.01
4     182628996   2531.04
5     464275133   6437.40
6      66280981    428.46
7        263420      2.74
8     266042859   3735.74
9     766077611  10596.65
10    608638545   8603.50
11  51106975785   6405.28
12   6357969430   1017.68
13     51206484      4.32
14  10418315890   1779.58
15   3071396395    830.54
16   1441659735    551.73
17  32943457787   6091.34
18  10450911278   2291.43
19  33395285515   6137.71
20  33274363870   6128.94
21    120921645      8.77
22   3071396395    830.54
23   1441659735    551.73
```

### 3.9 大单交易数据

获取大单交易数据，默认为大于等于400手，数据来源于新浪财经。

参数说明：

* code：股票代码，即6位数字代码
* date:日期，格式YYYY-MM-DD
* vol:手数，默认为400手，输入数值型参数
* retry_count : int, 默认3,如遇网络等问题重复执行的次数
* pause : int, 默认 0,重复请求数据过程中暂停的秒数，防止请求间隔时间太短出现的问题
返回值说明：

* code：代码
* name：名称
* time：时间
* price：当前价格
* volume：成交手
* preprice ：上一笔价格
* type：买卖类型【买盘、卖盘、中性盘】

调用方法：

~~~
df = ts.get_sina_dd('600848', date='2015-12-24') #默认400手
#df = ts.get_sina_dd('600848', date='2015-12-24', vol=500)  #指定大于等于500手的数据
~~~

结果显示：

```
    code    name      time      price  volume  preprice  type
0   600848  上海临港  14:58:10  23.05  104309     23.05   卖盘
1   600848  上海临港  14:57:03  23.05   56500     23.07   卖盘
2   600848  上海临港  14:52:47  23.00   76750     23.04   卖盘
3   600848  上海临港  14:47:32  23.10   47000     23.09   买盘
4   600848  上海临港  14:16:03  23.00   60859     23.01   卖盘
5   600848  上海临港  14:15:38  23.01   68659     23.03   卖盘
6   600848  上海临港  14:00:34  23.10   66200     23.10   买盘
7   600848  上海临港  13:25:24  23.28   42000     23.09   买盘
8   600848  上海临港  13:23:54  23.28   79600     23.07   买盘
9   600848  上海临港  13:16:16  23.03   40000     23.08   卖盘
```

## 4 其它

[投资参考数据](http://tushare.org/reference.html)

投资参考提供一些可能会影响股票价格走势的信息数据，为投资者在做投资决策时提供数据参考，亦可作为量化策略模型的事件因子纳入模型的计算。TuShare提供的参考数据主要包括以下：

```
分配预案
业绩预告
限售股解禁
基金持股
新股上市
融资融券（沪市）
融资融券（深市）
```

[股票分类数据](http://tushare.org/classifying.html)

分类数据提供股票的分类信息数据，从股票类型的不同角度进行数据分类，在一些统计套利方法的应用中，时常会以股票的分类来做切入，比如对某些行业或概念进行阶段统计来决定近期的交易策略等。TuShare提供的分类数据主要包括以下类别：

```
行业分类
概念分类
地域分类
中小板分类
创业板分类
风险警示板分类
沪深300成份股及权重
上证50成份股
中证500成份股
终止上市股票列表
暂停上市股票列表
```

[基本面数据](http://tushare.org/fundamental.html)

基本面类数据提供所有股票的基本面情况，包括股本情况、业绩预告和业绩报告等。主要包括以下类别：

```
沪深股票列表
业绩预告
业绩报告（主表）
盈利能力数据
营运能力数据
成长能力数据
偿债能力数据
现金流量数据
```

[龙虎榜数据](http://tushare.org/billboard.html)

龙虎榜数据接口提供历史龙虎榜上榜股票数据，主要包括以下类别：

```
每日龙虎榜列表
个股上榜统计
营业部上榜统计
龙虎榜机构席位追踪
龙虎榜机构席位成交明细
```

[新闻事件数据](http://tushare.org/newsevent.html)

新闻事件接口主要提供国内财经、证券、港股和期货方面的滚动新闻，以及个股的信息地雷数据。目前主要包括以下类别：

~~~
即时财经新闻
个股信息地雷
新浪股吧新闻
~~~

[银行间同业拆放利率](http://tushare.org/shibor.html)

Shibor接口是获取上海银行间同业拆放利率（Shanghai Interbank Offered Rate，简称Shibor）的便捷接口，以年为参数获取，可以取到公布的Shibor品种包括隔夜、1周、2周、1个月、3个月、6个月、9个月及1年的周期数据。目前主要包括以下类别：

~~~
Shibor拆放利率
银行报价数据
Shibor均值数据
贷款基础利率（LPR）
LPR均值数据
~~~